<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil - Skymilles</title>
    <link rel="stylesheet" href="perfil.css">
</head>
<body>
    <!-- Loading -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Carregando...</p>
    </div>

    <!-- Header -->
    <header id="header">
        <a href="http://localhost/dashboard/SkyMilles/"><img id="Logo"
                src="https://i.postimg.cc/nLnYq7Fp/logo-Sky-Milles.png" alt="Logo SkyMilles"></a>
        <a id="NomeMarca" href="#"><span>SKY</span>MILLES</a>
        <button class="btn-back" onclick="window.location.href='index.html'">
                â† Voltar para InÃ­cio
            </button>
    </header>

    <!-- Container Principal -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="profile-card">
                <div class="profile-avatar">
                    <img id="profileAvatar" src="https://i.postimg.cc/qMvvdyYp/download-3.jpg" alt="Avatar">
                    <button class="btn-change-avatar" onclick="openAvatarModal()">
                        ğŸ“·
                    </button>
                </div>
                <h3 id="profileName">Carregando...</h3>
                <p id="profileEmail">email@exemplo.com</p>
            </div>

            <nav class="sidebar-nav">
                <button class="nav-item active" onclick="showSection('dados-pessoais')">
                    ğŸ‘¤ Dados Pessoais
                </button>
                <button class="nav-item" onclick="showSection('endereco')">
                    ğŸ“ EndereÃ§o
                </button>
                <button class="nav-item" onclick="showSection('seguranca')">
                    ğŸ”’ SeguranÃ§a
                </button>
                <button class="nav-item" onclick="showSection('minhas-viagens')">
                    âœˆï¸ Minhas Viagens
                </button>
                <button class="nav-item" onclick="showSection('configuracoes')">
                    âš™ï¸ ConfiguraÃ§Ãµes
                </button>
            </nav>

            <button class="btn-logout" onclick="logoutUser()">
                ğŸšª Sair da Conta
            </button>
        </aside>

        <!-- ConteÃºdo Principal -->
        <main class="main-content">
            <!-- Dados Pessoais -->
            <section id="section-dados-pessoais" class="content-section active">
                <h2>ğŸ‘¤ Dados Pessoais</h2>
                <form id="formDadosPessoais" class="form">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Nome Completo</label>
                            <input type="text" id="nomeCompleto" required>
                        </div>
                        <div class="form-group">
                            <label>Nome de UsuÃ¡rio</label>
                            <input type="text" id="nomeUsuario" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>CPF/RG</label>
                            <input type="text" id="cpfRg" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="email" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Data de Nascimento</label>
                            <input type="date" id="dataNasc">
                        </div>
                        <div class="form-group">
                            <label>Sexo</label>
                            <select id="sexo">
                                <option value="N">NÃ£o especificado</option>
                                <option value="M">Masculino</option>
                                <option value="F">Feminino</option>
                                <option value="O">Outro</option>
                            </select>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary">ğŸ’¾ Salvar AlteraÃ§Ãµes</button>
                </form>
            </section>

            <!-- EndereÃ§o -->
            <section id="section-endereco" class="content-section">
                <h2>ğŸ“ EndereÃ§o</h2>
                <form id="formEndereco" class="form">
                    <div class="form-row">
                        <div class="form-group">
                            <label>CEP</label>
                            <input type="text" id="cep" placeholder="00000-000" maxlength="9">
                        </div>
                        <div class="form-group">
                            <label>NÃºmero</label>
                            <input type="text" id="numero" placeholder="NÂº">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>EndereÃ§o</label>
                        <input type="text" id="endereco" placeholder="Rua, Avenida...">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Bairro</label>
                            <input type="text" id="bairro">
                        </div>
                        <div class="form-group">
                            <label>Cidade</label>
                            <input type="text" id="cidade">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Estado</label>
                            <input type="text" id="estado" maxlength="2">
                        </div>
                        <div class="form-group">
                            <label>Complemento</label>
                            <input type="text" id="complemento" placeholder="Apto, Bloco...">
                        </div>
                    </div>

                    <button type="submit" class="btn-primary">ğŸ’¾ Salvar EndereÃ§o</button>
                </form>
            </section>

            <!-- SeguranÃ§a -->
            <section id="section-seguranca" class="content-section">
                <h2>ğŸ”’ SeguranÃ§a</h2>
                
                <div class="security-card">
                    <h3>Alterar Senha</h3>
                    <form id="formSenha" class="form">
                        <div class="form-group">
                            <label>Senha Atual</label>
                            <input type="password" id="senhaAtual" required>
                        </div>

                        <div class="form-group">
                            <label>Nova Senha</label>
                            <input type="password" id="novaSenha" required>
                        </div>

                        <div class="form-group">
                            <label>Confirmar Nova Senha</label>
                            <input type="password" id="confirmaNovaSenha" required>
                        </div>

                        <button type="submit" class="btn-primary">ğŸ” Alterar Senha</button>
                    </form>
                </div>

            </section>

            <!-- Minhas Viagens -->
            <section id="section-minhas-viagens" class="content-section">
                <h2>âœˆï¸ Minhas Viagens</h2>
                
                <div class="trips-container" id="tripsContainer">
                    <div class="empty-state">
                        <div class="empty-icon">âœˆï¸</div>
                        <h3>Nenhuma viagem encontrada</h3>
                        <p>VocÃª ainda nÃ£o possui viagens agendadas.</p>
                        <button class="btn-primary" onclick="window.location.href='pacotes.html'">
                            ğŸ” Explorar Pacotes
                        </button>
                    </div>
                </div>
            </section>

            <!-- ConfiguraÃ§Ãµes -->
            <section id="section-configuracoes" class="content-section">
                <h2>âš™ï¸ ConfiguraÃ§Ãµes</h2>
                
                <div class="config-card">
                    <h3>NotificaÃ§Ãµes</h3>
                    <div class="config-item">
                        <div>
                            <strong>Email de PromoÃ§Ãµes</strong>
                            <p>Receba ofertas especiais e promoÃ§Ãµes</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="notifPromocoes" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="config-item">
                        <div>
                            <strong>Email de Viagens</strong>
                            <p>Receba atualizaÃ§Ãµes sobre suas viagens</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="notifViagens" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="config-card">
                    <h3>PreferÃªncias</h3>
                    <div class="form-group">
                        <label>Idioma</label>
                        <select id="idioma">
                            <option value="pt-BR">PortuguÃªs (Brasil)</option>
                            <option value="en-US">English (US)</option>
                            <option value="es-ES">EspaÃ±ol</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Moeda</label>
                        <select id="moeda">
                            <option value="BRL">Real (R$)</option>
                            <option value="USD">DÃ³lar (US$)</option>
                            <option value="EUR">Euro (â‚¬)</option>
                        </select>
                    </div>
                    <button class="btn-primary">ğŸ’¾ Salvar PreferÃªncias</button>
                </div>

                <div class="danger-zone">
                    <h3>âš ï¸ Zona de Perigo</h3>
                    <p>Estas aÃ§Ãµes sÃ£o permanentes e nÃ£o podem ser desfeitas.</p>
                    <button class="btn-danger" onclick="deleteAccount()">
                        ğŸ—‘ï¸ Excluir Conta
                    </button>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal de Avatar -->
    <div class="avatar-modal" id="avatarModal">
        <div class="avatar-modal-content">
            <div class="avatar-modal-header">
                <h2>Escolha seu Avatar</h2>
                <button class="close-modal" onclick="closeAvatarModal()">âœ•</button>
            </div>
            <div class="avatar-grid" id="avatarGrid">
                <!-- Avatares serÃ£o inseridos aqui -->
            </div>
            <button class="btn-primary" onclick="saveAvatar()">ğŸ’¾ Salvar Avatar</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="auth.js"></script>
    <script src="perfil.js"></script>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-brand-text"><span>SKY</span>MILLES</div>
                </div>
                <div class="footer-copyright">
                    Â© 2025 SkyMilles. Todos os direitos reservados.
                </div>
            </div>
        </div>
    </footer>
</body>
</html>